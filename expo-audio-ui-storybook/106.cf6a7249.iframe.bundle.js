(self.webpackChunk_siteed_expo_audio_ui=self.webpackChunk_siteed_expo_audio_ui||[]).push([[106,149,201,309,323,517,741,888],{"./src/AnimatedCandle/AnimatedCandle.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_reactNativeReanimated=__webpack_require__("./node_modules/react-native-reanimated/lib/module/index.js"),_constants=__webpack_require__("./src/constants.tsx"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}var AnimatedCandle=function AnimatedCandle(_ref){var targetColor=_ref.color,targetX=_ref.x,targetY=_ref.y,startY=_ref.startY,targetHeight=_ref.height,width=_ref.width,_ref$animated=_ref.animated,animated=void 0===_ref$animated||_ref$animated,y=(0,_reactNativeReanimated.useSharedValue)(startY),height=(0,_reactNativeReanimated.useSharedValue)(0),x=(0,_reactNativeReanimated.useSharedValue)(targetX),color=(0,_reactNativeReanimated.useSharedValue)(_constants.CANDLE_OFFCANVAS_COLOR);return(0,_react.useEffect)((function(){animated?(y.value=(0,_reactNativeReanimated.withTiming)(targetY,{duration:500}),height.value=(0,_reactNativeReanimated.withTiming)(targetHeight,{duration:500}),x.value=(0,_reactNativeReanimated.withTiming)(targetX,{duration:500}),color.value=(0,_reactNativeReanimated.withTiming)(targetColor,{duration:500})):(y.value=targetY,height.value=targetHeight,x.value=targetX,color.value=targetColor)}),[targetY,targetHeight,targetX,targetColor,animated]),(0,_jsxRuntime.jsx)(_reactNativeSkia.Rect,{x,y,width,height,color})};exports.default=_react.default.memo(AnimatedCandle);AnimatedCandle.__docgenInfo={description:"",methods:[],displayName:"AnimatedCandle",props:{height:{required:!0,tsType:{name:"number"},description:""},x:{required:!0,tsType:{name:"number"},description:""},y:{required:!0,tsType:{name:"number"},description:""},startY:{required:!0,tsType:{name:"number"},description:""},width:{required:!0,tsType:{name:"number"},description:""},color:{required:!0,tsType:{name:"string"},description:""},animated:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}}},"./src/AudioVisualizer/AudioVisualizers.helpers.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateActivePoints=exports.syncTranslateX=exports.drawDottedLine=exports.createDefaultTheme=exports.calculateReferenceLinePosition=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),_reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_reactNativeReanimated=__webpack_require__("./node_modules/react-native-reanimated/lib/module/index.js"),_constants=__webpack_require__("./src/constants.tsx");exports.calculateReferenceLinePosition=function calculateReferenceLinePosition(_ref){var canvasWidth=_ref.canvasWidth;return"RIGHT"===_ref.referenceLinePosition?canvasWidth-15:canvasWidth/2},exports.createDefaultTheme=function createDefaultTheme(canvasWidth,referenceLineX){return{container:{justifyContent:"center",alignItems:"center"},navigationContainer:{width:"100%",alignItems:"center"},canvasContainer:{width:canvasWidth,backgroundColor:"#292a2d",justifyContent:"center",alignItems:"center",gap:5},referenceLine:{position:"absolute",top:0,bottom:0,left:referenceLineX,width:2,backgroundColor:"red"},text:{color:"black"},button:{},buttonText:{},dottedLineColor:"grey",yAxis:{tickColor:_constants.DEFAULT_TICK_COLOR,labelColor:_constants.DEFAULT_LABEL_COLOR},timeRuler:{tickColor:_constants.DEFAULT_TICK_COLOR,labelColor:_constants.DEFAULT_LABEL_COLOR},candle:{activeAudioColor:_constants.CANDLE_ACTIVE_AUDIO_COLOR,activeSpeechColor:_constants.CANDLE_ACTIVE_SPEECH_COLOR,offcanvasColor:_constants.CANDLE_OFFCANVAS_COLOR,selectedColor:_constants.CANDLE_SELECTED_COLOR}}},exports.syncTranslateX=function syncTranslateX(_ref2){var currentTime=_ref2.currentTime,durationMs=_ref2.durationMs,maxTranslateX=_ref2.maxTranslateX,translateX=_ref2.translateX;if(durationMs){var x=-(1e3*currentTime/durationMs)*maxTranslateX;return translateX.value=(0,_reactNativeReanimated.withSpring)(x,{damping:20,stiffness:90}),x}return translateX.value},exports.drawDottedLine=function drawDottedLine(_ref3){for(var canvasWidth=_ref3.canvasWidth,canvasHeight=_ref3.canvasHeight,path=_reactNativeSkia.Skia.Path.Make(),baseline=canvasHeight/2,x=0;x<=canvasWidth;x+=10)path.moveTo(x,baseline),path.lineTo(x+5,baseline);return path},exports.updateActivePoints=function updateActivePoints(_ref4){var _activePoints$,_activePoints2,x=_ref4.x,logger=_ref4.logger,context=_ref4.context,dataPoints=context.dataPoints,activePoints=context.activePoints,maxDisplayedItems=context.maxDisplayedItems,referenceLineX=context.referenceLineX,mode=context.mode,range=context.range,candleWidth=context.candleWidth,candleSpace=context.candleSpace;if(0===dataPoints.length)return{activePoints,range,lastUpdatedTranslateX:x};null==logger||logger.debug(`Updating active points x=${x}, mode=${mode}, dataPoints.length=${dataPoints.length}, activePoints.length=${activePoints.length}, referenceLineX=${referenceLineX}, maxDisplayedItems=${maxDisplayedItems}`);var result={activePoints:[],range:{start:0,end:0,startVisibleIndex:0,endVisibleIndex:0},lastUpdatedTranslateX:x},lastPointIndex=-1;if("live"===mode){var _activePoints$id,_activePoints,totalItems=dataPoints.length,liveMaxDisplayedItems=Math.floor(referenceLineX/(candleWidth+candleSpace)),startIndex=Math.max(0,totalItems-liveMaxDisplayedItems),updatedPoints=(0,_toConsumableArray2.default)(activePoints),addedPointsCount=0,lastUpdatedPointId=null!=(_activePoints$id=null==(_activePoints=activePoints[activePoints.length-1])?void 0:_activePoints.id)?_activePoints$id:-1;null==logger||logger.log(`Last updated point ID: ${lastUpdatedPointId} activePoints.length=${activePoints.length}`);for(var i=dataPoints.length-1;i>=0;i--)if(dataPoints[i].id===lastUpdatedPointId){lastPointIndex=i;break}null==logger||logger.log(`Last point index: ${lastPointIndex}`);for(var _i=0;_i<liveMaxDisplayedItems;_i++){var itemIndex=startIndex+_i,dataPoint=dataPoints[itemIndex];if(!dataPoint)break;itemIndex>lastPointIndex&&(updatedPoints.push(Object.assign({},dataPoint,{visible:!0})),addedPointsCount++)}null==logger||logger.log(`Live mode: Updated ${updatedPoints.length} active points`,updatedPoints);var finalUpdatedPoints=updatedPoints.slice(-liveMaxDisplayedItems);result.activePoints=(0,_toConsumableArray2.default)(finalUpdatedPoints),null==logger||logger.log(`Live mode: Updated ${finalUpdatedPoints.length} active points`,finalUpdatedPoints),null==logger||logger.log(`Number of new points added: ${addedPointsCount}`)}else{for(var translateX=Math.abs(x),rawHiddenItemsLeft=Math.floor(translateX/(candleWidth+candleSpace)),itemsOffset=Math.floor(maxDisplayedItems/2),hiddenItemsLeft=Math.max(0,rawHiddenItemsLeft-itemsOffset),_startIndex=Math.max(0,hiddenItemsLeft-maxDisplayedItems),startVisibleIndex=_startIndex+Math.min(hiddenItemsLeft,maxDisplayedItems),endIndex=_startIndex+3*maxDisplayedItems,endVisibleIndex=startVisibleIndex+maxDisplayedItems,loopTo=3*maxDisplayedItems,_i2=0;_i2<loopTo;_i2++){var _itemIndex=_startIndex+_i2,_dataPoint=dataPoints[_itemIndex];if(_dataPoint){var visible=_itemIndex>=startVisibleIndex&&_itemIndex<=endVisibleIndex;activePoints[_i2]=Object.assign({},_dataPoint,{visible})}else activePoints[_i2]={amplitude:0,id:-1,visible:!1,dB:0,silent:!1,rms:0}}result.activePoints=(0,_toConsumableArray2.default)(activePoints),result.range={start:_startIndex,end:endIndex,startVisibleIndex,endVisibleIndex},null==logger||logger.debug(`Range updated: start=${_startIndex}, end=${endIndex}, startVisibleIndex=${startVisibleIndex}, endVisibleIndex=${endVisibleIndex}`)}return null==logger||logger.debug(`Active points updated. First point ID: ${null==(_activePoints$=activePoints[0])?void 0:_activePoints$.id}, Last point ID: ${null==(_activePoints2=activePoints[activePoints.length-1])?void 0:_activePoints2.id}`),result}},"./src/AudioVisualizer/CanvasContainer.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_View=_interopRequireDefault(__webpack_require__("./node_modules/react-native-web/dist/exports/View/index.js")),_reactNativeReanimated=__webpack_require__("./node_modules/react-native-reanimated/lib/module/index.js"),_AnimatedCandle=_interopRequireDefault(__webpack_require__("./src/AnimatedCandle/AnimatedCandle.tsx")),_DecibelGauge=__webpack_require__("./src/DecibelGauge/DecibelGauge.tsx"),_DecibelMeter=__webpack_require__("./src/DecibelMeter/DecibelMeter.tsx"),_SkiaTimeRuler=__webpack_require__("./src/SkiaTimeRuler/SkiaTimeRuler.tsx"),_Waveform=__webpack_require__("./src/Waveform/Waveform.tsx"),_YAxis=__webpack_require__("./src/YAxis/YAxis.tsx"),_constants=__webpack_require__("./src/constants.tsx"),_AudioVisualizers=__webpack_require__("./src/AudioVisualizer/AudioVisualizers.helpers.tsx"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}var _worklet_1819116001545_init_data={code:"function CanvasContainerTsx1(){const{translateX}=this.__closure;try{if(translateX&&typeof translateX.value==='number'){return[{translateX:translateX.value}];}return[{translateX:0}];}catch(error){console.error('Error in groupTransform derived value:',error);return[{translateX:0}];}}"},CanvasContainer=function CanvasContainer(_ref){var _theme$decibelVisuali13,_theme$decibelVisuali14,CanvasContainerTsx1,canvasHeight=_ref.canvasHeight,candleWidth=_ref.candleWidth,candleSpace=_ref.candleSpace,showDottedLine=_ref.showDottedLine,showYAxis=_ref.showYAxis,showRuler=_ref.showRuler,mode=_ref.mode,translateX=_ref.translateX,activePoints=_ref.activePoints,maxDisplayedItems=_ref.maxDisplayedItems,paddingLeft=_ref.paddingLeft,totalCandleWidth=_ref.totalCandleWidth,startIndex=_ref.startIndex,canvasWidth=_ref.canvasWidth,selectedCandle=_ref.selectedCandle,showSilence=_ref.showSilence,durationMs=_ref.durationMs,font=_ref.font,theme=_ref.theme,minAmplitude=_ref.minAmplitude,maxAmplitude=_ref.maxAmplitude,scaleToHumanVoice=_ref.scaleToHumanVoice,_ref$visualizationTyp=_ref.visualizationType,visualizationType=void 0===_ref$visualizationTyp?"candles":_ref$visualizationTyp,_ref$showSelectedCand=_ref.showSelectedCandle,showSelectedCandle=void 0===_ref$showSelectedCand||_ref$showSelectedCand,amplitudeScaling=_ref.amplitudeScaling,currentAmplitude=_ref.currentAmplitude,testID=_ref.testID,candleColors=Object.assign({},_constants.defaultCandleColors,theme.candle),groupTransform=(0,_reactNativeReanimated.useDerivedValue)(((CanvasContainerTsx1=function CanvasContainerTsx1(){try{return translateX&&"number"==typeof translateX.value?[{translateX:translateX.value}]:[{translateX:0}]}catch(error){return console.error("Error in groupTransform derived value:",error),[{translateX:0}]}}).__closure={translateX},CanvasContainerTsx1.__workletHash=1819116001545,CanvasContainerTsx1.__initData=_worklet_1819116001545_init_data,CanvasContainerTsx1)),scalingFactorRef=(0,_react.useRef)(1),humanVoiceScalingFactorRef=(0,_react.useRef)(1);(0,_react.useEffect)((function(){scalingFactorRef.current=canvasHeight/maxAmplitude,humanVoiceScalingFactorRef.current=canvasHeight/.19}),[maxAmplitude,canvasHeight]),(0,_react.useEffect)((function(){var _activePoints$;console.log("Audio Data Range:",{minAmplitude,maxAmplitude,samplePoint:null==(_activePoints$=activePoints[0])?void 0:_activePoints$.amplitude})}),[minAmplitude,maxAmplitude]);var memoizedCandles=(0,_react.useMemo)((function(){return activePoints.map((function(_ref2,index){var id=_ref2.id,amplitude=_ref2.amplitude,visible=_ref2.visible,silent=_ref2.silent;if(-1===id)return null;var scaledAmplitude,centerY=canvasHeight/2;switch(amplitudeScaling){case"raw":var _activePoints$2;if(0===index)console.log("Raw Amplitude Debug:",{originalAmplitude:amplitude,minAmplitude,maxAmplitude,samplePoint:null==(_activePoints$2=activePoints[0])?void 0:_activePoints$2.amplitude});var normalizedAmplitude=amplitude;scaledAmplitude=Math.pow(normalizedAmplitude,.5)*canvasHeight;var clampedAmplitude=Math.max(0,Math.min(scaledAmplitude,canvasHeight));index<5&&console.log(`Candle ${index} scaling:`,{amplitude,normalizedAmplitude,scaledAmplitude,clampedAmplitude,y:centerY-scaledAmplitude/2});break;case"humanVoice":if(amplitude<=.2)scaledAmplitude=(amplitude-.01)/.19*(.95*canvasHeight);else scaledAmplitude=.95*canvasHeight+canvasHeight*(1-.95)*(Math.log(amplitude/.2)/Math.log(4));break;default:scaledAmplitude=amplitude/maxAmplitude*canvasHeight}var delta=Math.ceil(maxDisplayedItems/2)*(candleWidth+candleSpace);"live"===mode&&(delta=0);var x=(candleWidth+candleSpace)*index+startIndex*(candleWidth+candleSpace)+delta,color=candleColors.activeAudioColor;visible?selectedCandle&&selectedCandle.id===id&&(color=candleColors.selectedColor):color=candleColors.offcanvasColor;var key=`${id}`;return(0,_jsxRuntime.jsxs)(_react.default.Fragment,{children:[showSelectedCandle&&selectedCandle&&selectedCandle.id===id&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:`M${x},0 L${x+candleWidth},0 L${x+candleWidth},${canvasHeight} L${x},${canvasHeight} Z`,color:"red",style:"stroke",strokeWidth:2}),(!silent||showSilence)&&(0,_jsxRuntime.jsx)(_AnimatedCandle.default,{animated:!0,x,y:centerY-scaledAmplitude/2,startY:centerY,width:candleWidth,height:scaledAmplitude,color})]},key)}))}),[activePoints,canvasHeight,minAmplitude,maxAmplitude,maxDisplayedItems,showSilence,candleWidth,candleSpace,candleColors,mode,startIndex,selectedCandle,scaleToHumanVoice,showSelectedCandle,amplitudeScaling]),visualizationContent=(0,_react.useMemo)((function(){return"waveform"===visualizationType?(0,_jsxRuntime.jsx)(_Waveform.Waveform,{activePoints,canvasHeight,canvasWidth,minAmplitude,maxAmplitude}):memoizedCandles}),[visualizationType,activePoints,canvasHeight,canvasWidth,minAmplitude,maxAmplitude,theme,memoizedCandles]),currentDb=currentAmplitude?function amplitudeToDb(amplitude){return amplitude<=0?-60:20*Math.log10(amplitude)}(currentAmplitude):-60;return(0,_jsxRuntime.jsx)(_View.default,{style:theme.canvasContainer,children:(0,_jsxRuntime.jsxs)(_reactNativeSkia.Canvas,{style:{height:canvasHeight,width:canvasWidth},testID,children:[(0,_jsxRuntime.jsxs)(_reactNativeSkia.Group,{transform:groupTransform,children:[visualizationContent,showRuler&&(0,_jsxRuntime.jsx)(_SkiaTimeRuler.SkiaTimeRuler,{duration:null!=durationMs?durationMs:0,paddingLeft,width:totalCandleWidth,font,tickColor:theme.timeRuler.tickColor,labelColor:theme.timeRuler.labelColor})]}),showDottedLine&&(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:(0,_AudioVisualizers.drawDottedLine)({canvasWidth,canvasHeight}),color:theme.dottedLineColor||"grey",strokeWidth:1,style:"stroke"})}),showYAxis&&(0,_jsxRuntime.jsx)(_YAxis.YAxis,{canvasHeight,canvasWidth,minAmplitude,maxAmplitude,font,padding:10,tickColor:theme.yAxis.tickColor,labelColor:theme.yAxis.labelColor}),theme.decibelVisualization&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Group,{transform:[{translateY:"top"===theme.decibelVisualization.position?0:canvasHeight-(null!=(_theme$decibelVisuali13=null==(_theme$decibelVisuali14=theme.decibelVisualization.dimensions)?void 0:_theme$decibelVisuali14.height)?_theme$decibelVisuali13:60)}],children:function renderDecibelVisualization(){var _dimensions$width,_dimensions$height,_dimensions$width2,_dimensions$height2,_offset$x,_offset$y,_theme$decibelVisuali10,_theme$decibelVisuali11,_theme$decibelVisuali12;if(!theme.decibelVisualization)return null;var _theme$decibelVisuali=theme.decibelVisualization,type=_theme$decibelVisuali.type,_theme$decibelVisuali2=_theme$decibelVisuali.position,position=void 0===_theme$decibelVisuali2?"bottomRight":_theme$decibelVisuali2,_theme$decibelVisuali3=_theme$decibelVisuali.orientation,orientation=void 0===_theme$decibelVisuali3?"horizontal":_theme$decibelVisuali3,_theme$decibelVisuali4=_theme$decibelVisuali.offset,offset=void 0===_theme$decibelVisuali4?{x:0,y:0}:_theme$decibelVisuali4,_theme$decibelVisuali5=_theme$decibelVisuali.dimensions,dimensions=void 0===_theme$decibelVisuali5?{}:_theme$decibelVisuali5,gaugeWidth=null!=(_dimensions$width=dimensions.width)?_dimensions$width:200,gaugeHeight=null!=(_dimensions$height=dimensions.height)?_dimensions$height:120,meterWidth=null!=(_dimensions$width2=dimensions.width)?_dimensions$width2:canvasWidth,meterHeight=null!=(_dimensions$height2=dimensions.height)?_dimensions$height2:60,defaultX=0,defaultY=0;if("gauge"===type)switch(position){case"bottomRight":defaultX=canvasWidth-gaugeWidth-10,defaultY=canvasHeight-gaugeHeight-10;break;case"bottomLeft":defaultX=10,defaultY=canvasHeight-gaugeHeight-10;break;case"topRight":defaultX=canvasWidth-gaugeWidth-10,defaultY=10;break;case"topLeft":defaultX=10,defaultY=10;break;case"right":defaultX=canvasWidth-gaugeWidth-10,defaultY=(canvasHeight-gaugeHeight)/2;break;case"left":defaultX=10,defaultY=(canvasHeight-gaugeHeight)/2;break;case"top":defaultX=(canvasWidth-gaugeWidth)/2,defaultY=10;break;case"bottom":defaultX=(canvasWidth-gaugeWidth)/2,defaultY=canvasHeight-gaugeHeight-10}else switch(position){case"left":case"right":defaultX="right"===position?canvasWidth-meterWidth-10:10,defaultY=(canvasHeight-meterHeight)/2;break;default:defaultX=(canvasWidth-meterWidth)/2,defaultY="bottom"===position?canvasHeight-meterHeight-10:10}var _theme$decibelVisuali6,_theme$decibelVisuali7,_theme$decibelVisuali8,_theme$decibelVisuali9,transform=[{translateX:null!=(_offset$x=offset.x)?_offset$x:defaultX},{translateY:null!=(_offset$y=offset.y)?_offset$y:defaultY}];return"gauge"===type?(0,_jsxRuntime.jsx)(_reactNativeSkia.Group,{transform,children:(0,_jsxRuntime.jsx)(_DecibelGauge.DecibelGauge,{db:currentDb,theme:Object.assign({},theme.decibelVisualization.theme,{size:{width:gaugeWidth,height:gaugeHeight},colors:{needle:(null==(_theme$decibelVisuali6=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali6=_theme$decibelVisuali6.colors)?void 0:_theme$decibelVisuali6.needle)||"#007AFF",progress:(null==(_theme$decibelVisuali7=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali7=_theme$decibelVisuali7.colors)?void 0:_theme$decibelVisuali7.progress)||"#FFD60A",high:(null==(_theme$decibelVisuali8=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali8=_theme$decibelVisuali8.colors)?void 0:_theme$decibelVisuali8.high)||"#FF453A",tickMarks:null==(_theme$decibelVisuali9=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali9=_theme$decibelVisuali9.colors)?void 0:_theme$decibelVisuali9.tickMarks}}),font})}):(0,_jsxRuntime.jsx)(_reactNativeSkia.Group,{transform,children:(0,_jsxRuntime.jsx)(_DecibelMeter.DecibelMeter,{db:currentDb,width:meterWidth,height:meterHeight,length:dimensions.length,theme:Object.assign({},theme.decibelVisualization.theme,{colors:{low:(null==(_theme$decibelVisuali10=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali10=_theme$decibelVisuali10.colors)?void 0:_theme$decibelVisuali10.low)||"#34C759",mid:(null==(_theme$decibelVisuali11=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali11=_theme$decibelVisuali11.colors)?void 0:_theme$decibelVisuali11.mid)||"#FFD60A",high:(null==(_theme$decibelVisuali12=theme.decibelVisualization.theme)||null==(_theme$decibelVisuali12=_theme$decibelVisuali12.colors)?void 0:_theme$decibelVisuali12.high)||"#FF453A"}}),font,orientation})})}()})]})})};exports.default=_react.default.memo(CanvasContainer);CanvasContainer.__docgenInfo={description:"",methods:[],displayName:"CanvasContainer",props:{canvasHeight:{required:!0,tsType:{name:"number"},description:""},candleWidth:{required:!0,tsType:{name:"number"},description:""},candleSpace:{required:!0,tsType:{name:"number"},description:""},showDottedLine:{required:!0,tsType:{name:"boolean"},description:""},showRuler:{required:!0,tsType:{name:"boolean"},description:""},showSilence:{required:!0,tsType:{name:"boolean"},description:""},showYAxis:{required:!0,tsType:{name:"boolean"},description:""},mode:{required:!0,tsType:{name:"union",raw:"'static' | 'live' | 'scaled'",elements:[{name:"literal",value:"'static'"},{name:"literal",value:"'live'"},{name:"literal",value:"'scaled'"}]},description:""},translateX:{required:!0,tsType:{name:"SharedValue",elements:[{name:"number"}],raw:"SharedValue<number>"},description:""},activePoints:{required:!0,tsType:{name:"Array",elements:[{name:"CandleData"}],raw:"CandleData[]"},description:""},maxDisplayedItems:{required:!0,tsType:{name:"number"},description:""},paddingLeft:{required:!0,tsType:{name:"number"},description:""},totalCandleWidth:{required:!0,tsType:{name:"number"},description:""},startIndex:{required:!0,tsType:{name:"number"},description:""},canvasWidth:{required:!0,tsType:{name:"number"},description:""},selectedCandle:{required:!0,tsType:{name:"union",raw:"DataPoint | null",elements:[{name:"DataPoint"},{name:"null"}]},description:""},durationMs:{required:!1,tsType:{name:"number"},description:""},minAmplitude:{required:!0,tsType:{name:"number"},description:""},maxAmplitude:{required:!0,tsType:{name:"number"},description:""},onSelection:{required:!0,tsType:{name:"signature",type:"function",raw:"(dataPoint: DataPoint) => void",signature:{arguments:[{type:{name:"DataPoint"},name:"dataPoint"}],return:{name:"void"}}},description:""},theme:{required:!0,tsType:{name:"AudioVisualizerTheme"},description:""},font:{required:!1,tsType:{name:"SkFont"},description:""},scaleToHumanVoice:{required:!0,tsType:{name:"boolean"},description:""},disableTapSelection:{required:!1,tsType:{name:"boolean"},description:""},visualizationType:{required:!1,tsType:{name:"union",raw:"'candles' | 'waveform'",elements:[{name:"literal",value:"'candles'"},{name:"literal",value:"'waveform'"}]},description:"",defaultValue:{value:"'candles'",computed:!1}},showSelectedCandle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},amplitudeScaling:{required:!0,tsType:{name:"union",raw:"'raw' | 'normalized' | 'humanVoice'",elements:[{name:"literal",value:"'raw'"},{name:"literal",value:"'normalized'"},{name:"literal",value:"'humanVoice'"}]},description:""},currentAmplitude:{required:!1,tsType:{name:"number"},description:""},testID:{required:!1,tsType:{name:"string"},description:""}}}},"./src/DecibelGauge/DecibelGauge.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.DecibelGauge=DecibelGauge,exports.defaultDecibelGaugeTheme=void 0;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_reactNativeReanimated=__webpack_require__("./node_modules/react-native-reanimated/lib/module/index.js"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}var defaultDecibelGaugeTheme=exports.defaultDecibelGaugeTheme={minDb:-60,maxDb:0,backgroundColor:"#666666",strokeWidth:20,size:{width:300,height:220,radius:80},colors:{needle:"#007AFF",progress:"#FFD60A",high:"#FF453A"},text:{color:"#FFFFFF",size:16,xOffset:0,yOffset:100,showUnit:!0},strokeCap:"butt"};var _worklet_11484432593653_init_data={code:"function DecibelGaugeTsx1(){const{minDb,maxDb,dbShared}=this.__closure;const normalizedValue=Math.max(minDb,Math.min(maxDb,dbShared.value));return(normalizedValue-minDb)/(maxDb-minDb);}"},_worklet_6993053163667_init_data={code:"function DecibelGaugeTsx2(){const{dbShared,minDb,maxDb,GAUGE_START_ANGLE,GAUGE_SWEEP_ANGLE}=this.__closure;const normalizedValue=Math.max(0,Math.min(1,(dbShared.value-minDb)/(maxDb-minDb)));const rotation=(GAUGE_START_ANGLE+normalizedValue*GAUGE_SWEEP_ANGLE)*(Math.PI/180);return[{rotate:rotation}];}"};function DecibelGauge(_ref3){var _radius,_mergedTheme$text,_mergedTheme$text$xOf,_mergedTheme$text2,_mergedTheme$text$yOf,_mergedTheme$text3,_mergedTheme$text$col,_mergedTheme$text4,DecibelGaugeTsx1,DecibelGaugeTsx2,db=_ref3.db,_ref3$inputFormat=_ref3.inputFormat,inputFormat=void 0===_ref3$inputFormat?"dBFS":_ref3$inputFormat,outputFormat=_ref3.outputFormat,theme=_ref3.theme,_ref3$showValue=_ref3.showValue,showValue=void 0===_ref3$showValue||_ref3$showValue,_ref3$showTickMarks=_ref3.showTickMarks,showTickMarks=void 0!==_ref3$showTickMarks&&_ref3$showTickMarks,_ref3$showUnit=_ref3.showUnit,showUnit=void 0===_ref3$showUnit||_ref3$showUnit,_ref3$showNeedle=_ref3.showNeedle,showNeedle=void 0===_ref3$showNeedle||_ref3$showNeedle,font=_ref3.font,mergedTheme=(0,_react.useMemo)((function(){return Object.assign({},defaultDecibelGaugeTheme,theme)}),[theme]),minDb=mergedTheme.minDb,maxDb=mergedTheme.maxDb,radius=null!=(_radius=mergedTheme.size.radius)?_radius:80,centerX=mergedTheme.size.width/2,centerY=radius+20,dbShared=(0,_reactNativeReanimated.useSharedValue)(db),animatedProgress=(0,_reactNativeReanimated.useDerivedValue)(((DecibelGaugeTsx1=function DecibelGaugeTsx1(){return(Math.max(minDb,Math.min(maxDb,dbShared.value))-minDb)/(maxDb-minDb)}).__closure={minDb,maxDb,dbShared},DecibelGaugeTsx1.__workletHash=0xa71ed8672f5,DecibelGaugeTsx1.__initData=_worklet_11484432593653_init_data,DecibelGaugeTsx1),[minDb,maxDb]),needleTransform=(0,_reactNativeReanimated.useDerivedValue)(((DecibelGaugeTsx2=function DecibelGaugeTsx2(){return[{rotate:(135+270*Math.max(0,Math.min(1,(dbShared.value-minDb)/(maxDb-minDb))))*(Math.PI/180)}]}).__closure={dbShared,minDb,maxDb,GAUGE_START_ANGLE:135,GAUGE_SWEEP_ANGLE:270},DecibelGaugeTsx2.__workletHash=6993053163667,DecibelGaugeTsx2.__initData=_worklet_6993053163667_init_data,DecibelGaugeTsx2),[dbShared,minDb,maxDb]),needleLinePath=(0,_react.useMemo)((function(){var path=_reactNativeSkia.Skia.Path.Make();return path.moveTo(centerX,centerY),path.lineTo(centerX+radius-10,centerY),path}),[centerX,centerY,radius,10]),arrowheadPath=(0,_react.useMemo)((function(){var path=_reactNativeSkia.Skia.Path.Make();return path.moveTo(centerX+radius-10,centerY-5),path.lineTo(centerX+radius,centerY),path.lineTo(centerX+radius-10,centerY+5),path.close(),path}),[centerX,centerY,radius,10,5]),needleBaseDot=(0,_react.useMemo)((function(){var path=_reactNativeSkia.Skia.Path.Make();return path.addCircle(centerX,centerY,8),path}),[centerX,centerY]),gaugePath=(0,_react.useMemo)((function(){var path=_reactNativeSkia.Skia.Path.Make();return path.addArc({x:centerX-radius,y:centerY-radius,width:2*radius,height:2*radius},135,270),path}),[centerX,centerY,radius]),tickPaths=Array.from({length:5},(function(_,i){return 135+270*(i/4)})).map((function(angle){var tickStartRadius=radius-5,tickEndRadius=radius+5,startX=centerX+tickStartRadius*Math.cos(angle*Math.PI/180),startY=centerY+tickStartRadius*Math.sin(angle*Math.PI/180),endX=centerX+tickEndRadius*Math.cos(angle*Math.PI/180),endY=centerY+tickEndRadius*Math.sin(angle*Math.PI/180),tickPath=_reactNativeSkia.Skia.Path.Make();return tickPath.moveTo(startX,startY),tickPath.lineTo(endX,endY),tickPath})),displayDb=(0,_react.useMemo)((function(){return outputFormat&&inputFormat!==outputFormat?function convertDecibels(_ref){var value=_ref.value,fromFormat=_ref.fromFormat,toFormat=_ref.toFormat;return fromFormat===toFormat?value:"dBFS"===fromFormat&&"dB SPL"===toFormat?value+85:"dB SPL"===fromFormat&&"dBFS"===toFormat?value-85:value}({value:db,fromFormat:inputFormat,toFormat:outputFormat}):db}),[db,inputFormat,outputFormat]),valueText=showValue?function formatDecibelValue(_ref2){var value=_ref2.value,_ref2$showUnit=_ref2.showUnit,showUnit=void 0===_ref2$showUnit||_ref2$showUnit,formattedValue=Math.round(value).toString();return showUnit?`${formattedValue} dB`:formattedValue}({value:displayDb,showUnit:showUnit&&!1!==(null==(_mergedTheme$text=mergedTheme.text)?void 0:_mergedTheme$text.showUnit)}):"";return(0,_react.useEffect)((function(){dbShared.value=db}),[db]),(0,_jsxRuntime.jsxs)(_reactNativeSkia.Group,{children:[(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:gaugePath,strokeWidth:mergedTheme.strokeWidth,color:mergedTheme.backgroundColor,style:"stroke",strokeCap:mergedTheme.strokeCap}),(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:gaugePath,strokeWidth:mergedTheme.strokeWidth,color:mergedTheme.colors.progress,style:"stroke",start:0,end:animatedProgress,strokeCap:mergedTheme.strokeCap}),showTickMarks&&tickPaths.map((function(path,index){var _mergedTheme$colors$t;return(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path,color:null!=(_mergedTheme$colors$t=mergedTheme.colors.tickMarks)?_mergedTheme$colors$t:"white",style:"stroke",strokeWidth:1},`tick-${index}`)})),showNeedle&&(0,_jsxRuntime.jsxs)(_reactNativeSkia.Group,{origin:{x:centerX,y:centerY},transform:needleTransform,children:[(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:needleLinePath,color:mergedTheme.colors.needle,style:"stroke",strokeWidth:2}),(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:arrowheadPath,color:mergedTheme.colors.needle,style:"fill"})]}),showNeedle&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path:needleBaseDot,color:mergedTheme.colors.needle,style:"fill"}),showValue&&font&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Text,{x:centerX+(null!=(_mergedTheme$text$xOf=null==(_mergedTheme$text2=mergedTheme.text)?void 0:_mergedTheme$text2.xOffset)?_mergedTheme$text$xOf:0),y:centerY+(null!=(_mergedTheme$text$yOf=null==(_mergedTheme$text3=mergedTheme.text)?void 0:_mergedTheme$text3.yOffset)?_mergedTheme$text$yOf:showNeedle?100:0),text:valueText,font,color:null!=(_mergedTheme$text$col=null==(_mergedTheme$text4=mergedTheme.text)?void 0:_mergedTheme$text4.color)?_mergedTheme$text$col:"#FFFFFF"})]})}DecibelGauge.__docgenInfo={description:"",methods:[],displayName:"DecibelGauge",props:{db:{required:!0,tsType:{name:"number"},description:""},inputFormat:{required:!1,tsType:{name:"union",raw:"'dBFS' | 'dB SPL' | 'dBA' | 'dBC'",elements:[{name:"literal",value:"'dBFS'"},{name:"literal",value:"'dB SPL'"},{name:"literal",value:"'dBA'"},{name:"literal",value:"'dBC'"}]},description:"",defaultValue:{value:"'dBFS'",computed:!1}},outputFormat:{required:!1,tsType:{name:"union",raw:"'dBFS' | 'dB SPL' | 'dBA' | 'dBC'",elements:[{name:"literal",value:"'dBFS'"},{name:"literal",value:"'dB SPL'"},{name:"literal",value:"'dBA'"},{name:"literal",value:"'dBC'"}]},description:""},theme:{required:!1,tsType:{name:"Partial",elements:[{name:"DecibelGaugeTheme"}],raw:"Partial<DecibelGaugeTheme>"},description:""},showTickMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showValue:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showUnit:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showNeedle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},font:{required:!1,tsType:{name:"union",raw:"SkFont | null",elements:[{name:"SkFont"},{name:"null"}]},description:""}}}},"./src/DecibelMeter/DecibelMeter.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.DecibelMeter=DecibelMeter;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_constants=__webpack_require__("./src/constants.tsx"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}var DEFAULT_THEME={backgroundColor:"#333333",meterWidth:20,colors:{low:"#34C759",mid:"#FFD60A",high:"#FF453A"},ruler:{show:!0,tickColor:_constants.DEFAULT_TICK_COLOR,labelColor:_constants.DEFAULT_LABEL_COLOR,tickHeight:5,labelFontSize:10,interval:10}};function DecibelMeter(_ref){var _ref2,_mergedTheme$meterWid,db=_ref.db,width=_ref.width,height=_ref.height,_ref$minDb=_ref.minDb,minDb=void 0===_ref$minDb?-60:_ref$minDb,_ref$maxDb=_ref.maxDb,maxDb=void 0===_ref$maxDb?0:_ref$maxDb,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"vertical":_ref$orientation,theme=_ref.theme,font=_ref.font,mergedTheme=(0,_react.useMemo)((function(){return Object.assign({},DEFAULT_THEME,theme)}),[theme]),meterWidth=null!=(_ref2=null!=(_mergedTheme$meterWid=mergedTheme.meterWidth)?_mergedTheme$meterWid:DEFAULT_THEME.meterWidth)?_ref2:20,isVertical="vertical"===orientation,currentProgress=(Math.max(minDb,Math.min(maxDb,db))-minDb)/(maxDb-minDb),fillSize=isVertical?height*currentProgress:width*currentProgress;return(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsx)(_reactNativeSkia.Rect,{x:0,y:0,width:isVertical?meterWidth:width,height:isVertical?height:meterWidth,color:mergedTheme.backgroundColor}),(0,_jsxRuntime.jsx)(_reactNativeSkia.Rect,{x:0,y:isVertical?height-fillSize:0,width:isVertical?meterWidth:fillSize,height:isVertical?fillSize:meterWidth,color:function getColor(value){return value<=.6?mergedTheme.colors.low:value<=.8?mergedTheme.colors.mid:mergedTheme.colors.high}(currentProgress)}),function renderRuler(){var _mergedTheme$ruler,_mergedTheme$ruler$in,_mergedTheme$ruler2,_mergedTheme$ruler$ti,_mergedTheme$ruler3,_mergedTheme$ruler$la,_mergedTheme$ruler4,_mergedTheme$ruler$ti2,_mergedTheme$ruler5,_mergedTheme$ruler$la2,_mergedTheme$ruler6,_ref3,_mergedTheme$meterWid2;if(null==(_mergedTheme$ruler=mergedTheme.ruler)||!_mergedTheme$ruler.show||!font)return null;var rulerConfig={interval:null!=(_mergedTheme$ruler$in=null==(_mergedTheme$ruler2=mergedTheme.ruler)?void 0:_mergedTheme$ruler2.interval)?_mergedTheme$ruler$in:DEFAULT_THEME.ruler.interval,tickHeight:null!=(_mergedTheme$ruler$ti=null==(_mergedTheme$ruler3=mergedTheme.ruler)?void 0:_mergedTheme$ruler3.tickHeight)?_mergedTheme$ruler$ti:DEFAULT_THEME.ruler.tickHeight,labelFontSize:null!=(_mergedTheme$ruler$la=null==(_mergedTheme$ruler4=mergedTheme.ruler)?void 0:_mergedTheme$ruler4.labelFontSize)?_mergedTheme$ruler$la:DEFAULT_THEME.ruler.labelFontSize,tickColor:null!=(_mergedTheme$ruler$ti2=null==(_mergedTheme$ruler5=mergedTheme.ruler)?void 0:_mergedTheme$ruler5.tickColor)?_mergedTheme$ruler$ti2:DEFAULT_THEME.ruler.tickColor,labelColor:null!=(_mergedTheme$ruler$la2=null==(_mergedTheme$ruler6=mergedTheme.ruler)?void 0:_mergedTheme$ruler6.labelColor)?_mergedTheme$ruler$la2:DEFAULT_THEME.ruler.labelColor},numTicks=Math.floor((maxDb-minDb)/rulerConfig.interval)+1,isVertical="vertical"===orientation,meterWidth=null!=(_ref3=null!=(_mergedTheme$meterWid2=mergedTheme.meterWidth)?_mergedTheme$meterWid2:DEFAULT_THEME.meterWidth)?_ref3:20,spacing=isVertical?(height-meterWidth)/(numTicks-1):(width-meterWidth)/(numTicks-1);return Array.from({length:numTicks}).map((function(_,i){var label=`${maxDb-i*rulerConfig.interval}`,labelWidth=_constants.isWeb?20:font.measureText(label).width,position=i*spacing,tickStart=meterWidth,tickHeight=rulerConfig.tickHeight,labelFontSize=rulerConfig.labelFontSize,tickKey="tick-"+(numTicks-i);return(0,_jsxRuntime.jsxs)(_react.default.Fragment,{children:[(0,_jsxRuntime.jsx)(_reactNativeSkia.Line,{p1:{x:isVertical?tickStart:position,y:isVertical?position:tickStart},p2:{x:isVertical?tickStart+tickHeight:position,y:isVertical?position:tickStart+tickHeight},color:rulerConfig.tickColor,strokeWidth:1}),(0,_jsxRuntime.jsx)(_reactNativeSkia.Text,{text:label,x:isVertical?tickStart+tickHeight+5:position-labelWidth/2,y:isVertical?position+labelFontSize/3:tickStart+tickHeight+labelFontSize+2,color:rulerConfig.labelColor,font})]},tickKey)}))}()]})}DecibelMeter.__docgenInfo={description:"",methods:[],displayName:"DecibelMeter",props:{db:{required:!0,tsType:{name:"number"},description:""},width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},length:{required:!1,tsType:{name:"number"},description:""},minDb:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"-60",computed:!1}},maxDb:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},orientation:{required:!1,tsType:{name:"union",raw:"'vertical' | 'horizontal'",elements:[{name:"literal",value:"'vertical'"},{name:"literal",value:"'horizontal'"}]},description:"",defaultValue:{value:"'vertical'",computed:!1}},theme:{required:!1,tsType:{name:"Partial",elements:[{name:"DecibelMeterTheme"}],raw:"Partial<DecibelMeterTheme>"},description:""},font:{required:!1,tsType:{name:"union",raw:"SkFont | null",elements:[{name:"SkFont"},{name:"null"}]},description:""}}}},"./src/SkiaTimeRuler/SkiaTimeRuler.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.SkiaTimeRuler=void 0;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_constants=__webpack_require__("./src/constants.tsx"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),formatTime=function formatTime(seconds){var h=Math.floor(seconds/3600),m=Math.floor(seconds%3600/60),s=seconds%60;return h>0?`${h}:${m.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${m}:${s.toString().padStart(2,"0")}`};(exports.SkiaTimeRuler=function SkiaTimeRuler(_ref){var duration=_ref.duration,width=_ref.width,font=_ref.font,_ref$interval=_ref.interval,interval=void 0===_ref$interval?1:_ref$interval,_ref$tickHeight=_ref.tickHeight,tickHeight=void 0===_ref$tickHeight?10:_ref$tickHeight,_ref$paddingLeft=_ref.paddingLeft,paddingLeft=void 0===_ref$paddingLeft?0:_ref$paddingLeft,tickColor=_ref.tickColor,labelColor=_ref.labelColor,_ref$labelFontSize=_ref.labelFontSize,labelFontSize=void 0===_ref$labelFontSize?10:_ref$labelFontSize,_ref$labelFormatter=_ref.labelFormatter,labelFormatter=void 0===_ref$labelFormatter?formatTime:_ref$labelFormatter,_ref$startMargin=_ref.startMargin,startMargin=void 0===_ref$startMargin?0:_ref$startMargin,finalTickColor=null!=tickColor?tickColor:_constants.DEFAULT_TICK_COLOR,finalLabelColor=null!=labelColor?labelColor:_constants.DEFAULT_LABEL_COLOR,numTicks=Math.floor(duration/1e3/interval);if(width<=0||numTicks<=0)return null;var tickSpacing=(width-startMargin)/numTicks,labelInterval=Math.ceil(50/tickSpacing);return(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:Array.from({length:numTicks+1}).map((function(_,i){var _font$measureText,xPosition=startMargin+i*(width-startMargin)/numTicks+paddingLeft,label=labelFormatter(i*interval),labelWidth=0;!_constants.isWeb&&font&&(labelWidth=(null==font||null==(_font$measureText=font.measureText(label))?void 0:_font$measureText.width)||0);var shouldDrawLabel=i%labelInterval==0,shouldDrawTick=shouldDrawLabel||tickSpacing>=50;return(0,_jsxRuntime.jsxs)(_react.default.Fragment,{children:[shouldDrawTick&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Line,{p1:{x:xPosition,y:0},p2:{x:xPosition,y:tickHeight},color:finalTickColor,strokeWidth:1}),shouldDrawLabel&&font&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Text,{text:label,x:xPosition-labelWidth/2,color:finalLabelColor,y:tickHeight+labelFontSize,font})]},i)}))})}).__docgenInfo={description:"",methods:[],displayName:"SkiaTimeRuler",props:{duration:{required:!0,tsType:{name:"number"},description:""},width:{required:!0,tsType:{name:"number"},description:""},font:{required:!1,tsType:{name:"SkFont"},description:""},paddingLeft:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},interval:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},tickHeight:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},tickColor:{required:!1,tsType:{name:"string"},description:""},labelColor:{required:!1,tsType:{name:"string"},description:""},labelFontSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},labelFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:"",defaultValue:{value:"(seconds: number): string => {\n    const h = Math.floor(seconds / 3600)\n    const m = Math.floor((seconds % 3600) / 60)\n    const s = seconds % 60\n    if (h > 0) {\n        return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`\n    } else {\n        return `${m}:${s.toString().padStart(2, '0')}`\n    }\n}",computed:!1}},startMargin:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}}}}},"./src/Waveform/Waveform.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Waveform=Waveform;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}var DEFAULT_THEME={color:"#007AFF",strokeWidth:2,opacity:1};function Waveform(_ref){var _theme$color,_theme$strokeWidth,_theme$opacity,activePoints=_ref.activePoints,canvasHeight=_ref.canvasHeight,canvasWidth=_ref.canvasWidth,minAmplitude=_ref.minAmplitude,maxAmplitude=_ref.maxAmplitude,_ref$theme=_ref.theme,theme=void 0===_ref$theme?DEFAULT_THEME:_ref$theme,_ref$smoothing=_ref.smoothing,smoothing=void 0===_ref$smoothing||_ref$smoothing,path=(0,_react.useMemo)((function(){if(0===activePoints.length)return"";var centerY=canvasHeight/2,totalPoints=activePoints.length,pathData=activePoints.map((function(_ref2,index){var amplitude=_ref2.amplitude;return{x:index/(totalPoints-1)*canvasWidth,y:centerY-(amplitude-minAmplitude)/(maxAmplitude-minAmplitude)*(canvasHeight/2)}}));if(!pathData[0])return"";var waveformPath=`M${pathData[0].x},${pathData[0].y}`;if(smoothing)for(var i=0;i<pathData.length-1;i++){var current=pathData[i],next=pathData[i+1];if(current&&next){var controlX=(current.x+next.x)/2;waveformPath+=` C${controlX},${current.y} ${controlX},${next.y} ${next.x},${next.y}`}}else pathData.slice(1).forEach((function(point){point&&(waveformPath+=` L${point.x},${point.y}`)}));return waveformPath}),[activePoints,canvasHeight,canvasWidth,minAmplitude,maxAmplitude,smoothing]);return path?(0,_jsxRuntime.jsx)(_reactNativeSkia.Path,{path,color:null!=(_theme$color=theme.color)?_theme$color:DEFAULT_THEME.color,style:"stroke",strokeWidth:null!=(_theme$strokeWidth=theme.strokeWidth)?_theme$strokeWidth:DEFAULT_THEME.strokeWidth,opacity:null!=(_theme$opacity=theme.opacity)?_theme$opacity:DEFAULT_THEME.opacity}):null}Waveform.__docgenInfo={description:"",methods:[],displayName:"Waveform",props:{activePoints:{required:!0,tsType:{name:"Array",elements:[{name:"CandleData"}],raw:"CandleData[]"},description:""},canvasHeight:{required:!0,tsType:{name:"number"},description:""},canvasWidth:{required:!0,tsType:{name:"number"},description:""},minAmplitude:{required:!0,tsType:{name:"number"},description:""},maxAmplitude:{required:!0,tsType:{name:"number"},description:""},theme:{required:!1,tsType:{name:"WaveformTheme"},description:"",defaultValue:{value:"{\n    color: '#007AFF',\n    strokeWidth: 2,\n    opacity: 1,\n}",computed:!1}},smoothing:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}}},"./src/YAxis/YAxis.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.YAxis=void 0;var _reactNativeSkia=__webpack_require__("./node_modules/@shopify/react-native-skia/lib/module/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_constants=__webpack_require__("./src/constants.tsx"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js"),formatLabel=function formatLabel(value){return value.toFixed(2)};(exports.YAxis=function YAxis(_ref){var canvasHeight=_ref.canvasHeight,minAmplitude=_ref.minAmplitude,maxAmplitude=_ref.maxAmplitude,padding=_ref.padding,_ref$tickInterval=_ref.tickInterval,tickInterval=void 0===_ref$tickInterval?.1:_ref$tickInterval,_ref$tickLength=_ref.tickLength,tickLength=void 0===_ref$tickLength?10:_ref$tickLength,font=_ref.font,tickColor=_ref.tickColor,labelColor=_ref.labelColor,_ref$labelFontSize=_ref.labelFontSize,labelFontSize=void 0===_ref$labelFontSize?10:_ref$labelFontSize,_ref$labelFormatter=_ref.labelFormatter,labelFormatter=void 0===_ref$labelFormatter?formatLabel:_ref$labelFormatter,finalTickColor=null!=tickColor?tickColor:_constants.DEFAULT_TICK_COLOR,finalLabelColor=null!=labelColor?labelColor:_constants.DEFAULT_LABEL_COLOR,numTicks=Math.floor((maxAmplitude-minAmplitude)/tickInterval),tickSpacing=(canvasHeight-2*padding)/numTicks;return canvasHeight<=0||numTicks<=0?null:(0,_jsxRuntime.jsx)(_jsxRuntime.Fragment,{children:Array.from({length:numTicks+1}).map((function(_,i){var yPosition=canvasHeight-padding-i*tickSpacing,label=labelFormatter(minAmplitude+i*tickInterval);return(0,_jsxRuntime.jsxs)(_react.default.Fragment,{children:[(0,_jsxRuntime.jsx)(_reactNativeSkia.Line,{p1:{x:padding,y:yPosition},p2:{x:padding+tickLength,y:yPosition},color:finalTickColor,strokeWidth:1}),font&&(0,_jsxRuntime.jsx)(_reactNativeSkia.Text,{text:label,x:padding+tickLength+5,color:finalLabelColor,y:yPosition+labelFontSize/2,font})]},i)}))})}).__docgenInfo={description:"",methods:[],displayName:"YAxis",props:{canvasHeight:{required:!0,tsType:{name:"number"},description:""},canvasWidth:{required:!0,tsType:{name:"number"},description:""},minAmplitude:{required:!0,tsType:{name:"number"},description:""},maxAmplitude:{required:!0,tsType:{name:"number"},description:""},padding:{required:!0,tsType:{name:"number"},description:""},font:{required:!1,tsType:{name:"SkFont"},description:""},tickInterval:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.1",computed:!1}},tickLength:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},tickColor:{required:!1,tsType:{name:"string"},description:""},labelColor:{required:!1,tsType:{name:"string"},description:""},labelFontSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},labelFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:"",defaultValue:{value:"(value: number): string => {\n    return value.toFixed(2)\n}",computed:!1}}}}},"./src/constants.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{var _interopRequireDefault=__webpack_require__("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isWeb=exports.defaultCandleColors=exports.DEFAULT_TICK_COLOR=exports.DEFAULT_LABEL_COLOR=exports.CANDLE_SELECTED_COLOR=exports.CANDLE_OFFCANVAS_COLOR=exports.CANDLE_ACTIVE_SPEECH_COLOR=exports.CANDLE_ACTIVE_AUDIO_COLOR=void 0;var _Platform=_interopRequireDefault(__webpack_require__("./node_modules/react-native-web/dist/exports/Platform/index.js")),CANDLE_ACTIVE_AUDIO_COLOR=(exports.isWeb="web"===_Platform.default.OS,exports.CANDLE_ACTIVE_AUDIO_COLOR="rgba(74, 144, 226, 1)"),CANDLE_ACTIVE_SPEECH_COLOR=exports.CANDLE_ACTIVE_SPEECH_COLOR="rgba(114, 191, 106, 1)",CANDLE_SELECTED_COLOR=exports.CANDLE_SELECTED_COLOR="rgba(255, 99, 71, 1)",CANDLE_OFFCANVAS_COLOR=exports.CANDLE_OFFCANVAS_COLOR="rgba(211, 211, 211, 1)";exports.DEFAULT_TICK_COLOR="white",exports.DEFAULT_LABEL_COLOR="white",exports.defaultCandleColors={activeAudioColor:CANDLE_ACTIVE_AUDIO_COLOR,activeSpeechColor:CANDLE_ACTIVE_SPEECH_COLOR,offcanvasColor:CANDLE_OFFCANVAS_COLOR,selectedColor:CANDLE_SELECTED_COLOR}}}]);